type PoolStats @entity  {
  id: Bytes!
  totalDepositsInDollars: BigDecimal!
  totalWithdrawalsInDollars: BigDecimal!
}

type Deposit @entity(immutable: true) {
  id: Bytes! 
  commitment: String!
  blockNumber: BigInt!
  timestamp: BigInt!
  eth_amount: BigDecimal!
  from: String!
  usdc_amount: BigDecimal!
}

type Withdrawal @entity(immutable: true) {
  id: Bytes! 
  nullifier_hash: String!
  to: String!
  relayer: Relayer!
  fee: String!
  blockNumber: BigInt!
  timestamp: BigInt!
  eth_amount: BigDecimal!
  usdc_amount: BigDecimal!
}


type Relayer @entity { 
  id:Bytes!
  withdrawal:[Withdrawal!]! @derivedFrom(field: "relayer")
}

